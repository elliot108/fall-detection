<!DOCTYPE html>
<html>
<head>
    <title>Elderly Health Monitoring System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>Elderly Health Monitoring System</h1>
        <button class="emergency-button" onclick="triggerEmergency()">EMERGENCY</button>
    </div>

    <div class="container">
        <div class="monitoring-section">
            <h2>Live Monitoring</h2>
            <div class="status-indicator">
                <div class="status-dot status-active"></div>
                <span>Monitoring Active</span>
            </div>
            <div class="canvas-container">
                <canvas id="canvas"></canvas>
                <div id="camera-off-overlay" class="camera-off-overlay hidden">
                    <svg viewBox="0 0 24 24" width="64" height="64">
                        <path fill="currentColor" d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                        <path fill="currentColor" d="M2.79 2.21L1.37 3.62l2.54 2.54C3.35 6.85 3 7.61 3 8.46v7.08c0 1.1.9 2 2 2h12.08l3.29 3.29 1.41-1.41L2.79 2.21zM7 10.46c0-2.76 2.24-5 5-5 .91 0 1.76.25 2.49.68l-6.81 6.81c-.43-.73-.68-1.58-.68-2.49z"/>
                    </svg>
                    <p>Camera Off</p>
                </div>
            </div>
            <div id="label-container"></div>
            <div class="control-buttons">
                <button type="button" onclick="init()" class="start-button">Start Monitoring</button>
                <button type="button" onclick="stopMonitoring()" class="stop-button button-disabled" id="stopButton">Stop Monitoring</button>
            </div>
        </div>

        <div class="status-panel">
            <h2>Status & Alerts</h2>
            <div class="current-status">
                <h3>Current Status</h3>
                <div id="status-display">Normal</div>
            </div>
            
            <div class="alert-history">
                <h3>Recent Events</h3>
                <div id="alert-log">
                    <!-- Alert history will be populated here -->
                </div>
            </div>

            <div class="emergency-contacts">
                <h3>Emergency Contacts</h3>
                <ul id="contact-list">
                    <li>Primary Caregiver: (555) 0123</li>
                    <li>Family Contact: (555) 0124</li>
                    <li>Emergency Services: 911</li>
                </ul>
            </div>
        </div>
    </div>

    <audio id="alertSound" src="./alarm.mp3" preload="auto"></audio>

    <!-- Load TensorFlow.js and Teachable Machine Pose library -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
    
    <!-- Load our script -->
    <script src="script.js"></script>
</body>
</html>
